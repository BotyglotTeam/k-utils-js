import n from"axios";import t from"moment";var e={isString:function(n){return"string"==typeof n},isUndefined:function(n){return void 0===n},isUndefinedOrNull:function(n){return this.isUndefined(n)||null===n},isEmpty:function(n){return this.isObject(n)?0===Object.keys(n).length:this.isString(n)?0===n.length:void 0},isNotEmpty:function(n){return!this.isEmpty(n)},isBlank:function(n){return this.isUndefinedOrNull(n)||this.isEmpty(n)},isFalsy:function(n){return this.isBlank(n)||!1===n},isTruthy:function(n){return!this.isFalsy(n)},isUUID:function(n){return"string"==typeof n&&/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(n)},toUnderscore:function(n){return"string"==typeof n?n.replace(/([A-Z])/g,(function(n){return"_"+n.toLowerCase()})):n},toLowerCamelCase:function(n){return"string"==typeof n?n.replace(/(_[a-z])/g,(function(n){return n.toUpperCase().replace("_","")})):n},isObject:function(n){return"object"==typeof n},isArray:function(n){return n.constructor===Array},isFunction:function(n){return"function"==typeof n},noop:function(){},getMaxOfArray:function(n){return Math.max.apply(null,n)},compareStrings:function(n,t){return n.localeCompare(t)},compareNumbers:function(n,t){return n-t},generateIntegerHashFromString:function(n){for(var t=5381,e=n.length;e;)t=33*t^n.charCodeAt(--e);return t>>>0},dateHasIsoFormat:function(n){return n.match(/^\d{4}[\-](0[1-9]|1[012])[\-](0[1-9]|[12][0-9]|3[01])$/)},dateTimeHasIsoFormat:function(n){return n.match(/^\d{4}[\-](0[1-9]|1[012])[\-](0[1-9]|[12][0-9]|3[01]) ([01][0-9]|2[0-3]):([0-5][0-9])$/)},dateTimeHasStrictISO8601Format:function(n){return!t(n,"YYYY-MM-DD HH:mm",!0).isValid()},dateHasCustomFormat:function(n){return n.match(/^(0?[1-9]|[12][0-9]|3[01])[\/](0?[1-9]|1[012])[\/]\d{4}$/)},dateTimeHasCustomFormat:function(n){return n.match(/^(0?[1-9]|[12][0-9]|3[01])[\/](0?[1-9]|1[012])[\/]\d{4} (0?[0-9]|1[0-9]|2[0-3]):([0-5][0-9])$/)},count:function(n,t,e,r){void 0===n&&(n=0),void 0===t&&(t=1),void 0===e&&(e=1),void 0===r&&(r=[]);for(var o=[],i=n;i<=t;i+=e)!r.includes(i)&&o.push(i);return o},compareBy:function(n){return function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}}},r=function(){};r.setCSRFToken=function(){n.defaults.headers.common.Accept="application/json"},r.setCancelToken=function(t){var r=this.getCancelToken(t);e.isBlank(r)||r.cancel(t+" request canceled by the user."),this.cancelTokenSources[t]=n.CancelToken.source()},r.getCancelToken=function(n){return this.cancelTokenSources[n]},r.later=function(n,t){return new Promise((function(e){setTimeout(e,n,t)}))},r.axiosRequest=function(t){var e=t.url,r=t.data,o=t.method,i=t.onSuccess,u=t.onError,c=t.cancelToken;return new Promise((function(t){return n({method:o,url:e,data:r,cancelToken:c}).then((function(n){i(n),t()})).catch((function(n){u(n),t()}))}))},r.sendRequest=function(n){var t=n.url,r=n.data,o=n.method,i=n.onSuccess,u=n.onError,c=n.delay;this.setCSRFToken(),this.setCancelToken(t);var s={url:t,data:r,method:o,onSuccess:i,onError:u,cancelToken:this.getCancelToken(t).token},a=300;return window&&window.AppInfo&&"test"===AppInfo.railsEnv&&(a=5),e.isTruthy(c)&&a>0?this.later(a,s).then(this.axiosRequest):this.axiosRequest(s)},r.cancelTokenSources={},r.active=0,n.interceptors.request.use((function(n){return r.active+=1,n}),(function(n){return r.active-=1,Promise.reject(n)})),n.interceptors.response.use((function(n){return r.active-=1,n}),(function(n){return r.active-=1,Promise.reject(n)})),window.Api=r;var o=Object.freeze({__proto__:null,Api:r,Utils:e});var i={install:function n(t){n.installed||(n.installed=!0,Object.keys(o).forEach((function(n){t.component(n,o[n])})))}},u=null;"undefined"!=typeof window?u=window.Vue:"undefined"!=typeof global&&(u=global.Vue),u&&u.use(i);export default i;export{r as Api,e as Utils};
